# Run Tests and Fix Skill

テストを実行し、失敗したテストがあれば自動的に修正します。

---

## 実行手順

1. **テストを実行**
   - `npm test`を実行
   - テスト結果を確認

2. **テスト結果を分析**
   - 成功したテスト数
   - 失敗したテスト数
   - 失敗したテストの詳細

3. **失敗したテストがある場合:**
   - 各失敗したテストについて:
     - エラーメッセージを分析
     - 該当するコードを特定
     - 失敗の原因を特定
     - コードを修正（または必要に応じてテストを修正）
   - 修正後、再度テストを実行
   - すべてのテストが通るまで繰り返す

4. **すべてのテストが通ったら:**
   - テストカバレッジレポートを生成: `npm run test:coverage`
   - カバレッジを確認
   - カバレッジが80%未満の場合、警告を表示

5. **結果をレポート**
   - テスト実行結果のサマリー
   - 修正したテストの一覧
   - カバレッジ情報

---

## 注意事項

- **既存の動作を変更しない**: テスト修正時は、既存のコードの動作を変更しないこと
- **カバレッジ**: カバレッジが低い場合は、新しいテストの追加を提案
- **リグレッション**: 修正により他のテストが壊れていないか確認
- **テストの品質**: テストコードも本番コードと同じ品質基準を適用

---

## エラーハンドリング

### テストが永続的に失敗する場合

- 失敗の原因を詳しく説明
- 手動での対応が必要な場合は、その旨を報告
- 可能な解決策を提案

### カバレッジが低い場合

- カバレッジが不足している箇所を特定
- 追加すべきテストケースを提案

---

## 使用例

このスキルを実行するには:

```
/skill run-tests-and-fix
```

または:

```
テストを実行して、失敗があれば修正して
```
